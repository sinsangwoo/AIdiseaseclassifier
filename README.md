# ğŸ¥ AI Disease Classifier

**ì˜ë£Œ ì´ë¯¸ì§€ ê¸°ë°˜ AI ì§ˆë³‘ ì§„ë‹¨ ì‹œìŠ¤í…œ**

ONNX ëª¨ë¸ì„ í™œìš©í•˜ì—¬ ì˜ë£Œ ì´ë¯¸ì§€ë¥¼ ë¶„ì„í•˜ê³  ì§ˆë³‘ì„ ì˜ˆì¸¡í•˜ëŠ” ì›¹ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.

---

## ğŸ“‹ ëª©ì°¨

- [í”„ë¡œì íŠ¸ êµ¬ì¡°](#í”„ë¡œì íŠ¸-êµ¬ì¡°)
- [ì£¼ìš” ê¸°ëŠ¥](#ì£¼ìš”-ê¸°ëŠ¥)
- [ê¸°ìˆ  ìŠ¤íƒ](#ê¸°ìˆ -ìŠ¤íƒ)
- [ì„¤ì¹˜ ë°©ë²•](#ì„¤ì¹˜-ë°©ë²•)
- [ì‚¬ìš© ë°©ë²•](#ì‚¬ìš©-ë°©ë²•)
- [API ë¬¸ì„œ](#api-ë¬¸ì„œ)
- [ê°œë°œ ê°€ì´ë“œ](#ê°œë°œ-ê°€ì´ë“œ)

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
AIdiseaseclassifier/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ app.py                    # Flask ì• í”Œë¦¬ì¼€ì´ì…˜ ì§„ì…ì 
â”‚   â”œâ”€â”€ config.py                 # ì„¤ì • ê´€ë¦¬
â”‚   â”œâ”€â”€ models/                   # ëª¨ë¸ ê´€ë ¨ ëª¨ë“ˆ
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ predictor.py         # ONNX ëª¨ë¸ ë¡œë”© ë° ì˜ˆì¸¡
â”‚   â”œâ”€â”€ services/                 # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ image_processor.py   # ì´ë¯¸ì§€ ì „ì²˜ë¦¬
â”‚   â”œâ”€â”€ utils/                    # ìœ í‹¸ë¦¬í‹°
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ validators.py        # ì…ë ¥ ê²€ì¦
â”‚   â”‚   â””â”€â”€ responses.py         # API ì‘ë‹µ í¬ë§·
â”‚   â”œâ”€â”€ model.onnx               # í•™ìŠµëœ ONNX ëª¨ë¸
â”‚   â””â”€â”€ labels.txt               # í´ë˜ìŠ¤ ë ˆì´ë¸”
â”œâ”€â”€ frontend/                     # ì›¹ í”„ë¡ íŠ¸ì—”ë“œ
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ css/
â”‚   â””â”€â”€ js/
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md
```

---

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

- ğŸ–¼ï¸ **ì´ë¯¸ì§€ ì—…ë¡œë“œ ë° ë¶„ì„**: JPG, PNG í˜•ì‹ ì§€ì›
- ğŸ§  **AI ê¸°ë°˜ ì§ˆë³‘ ì˜ˆì¸¡**: ONNX ëª¨ë¸ì„ í†µí•œ ì‹¤ì‹œê°„ ë¶„ë¥˜
- ğŸ“Š **í™•ë¥  ê¸°ë°˜ ê²°ê³¼**: ê° ì§ˆë³‘ì— ëŒ€í•œ ì‹ ë¢°ë„ ì ìˆ˜ ì œê³µ
- ğŸ”’ **ì…ë ¥ ê²€ì¦**: íŒŒì¼ í˜•ì‹, í¬ê¸°, ë¬´ê²°ì„± ê²€ì¦
- ğŸš€ **RESTful API**: í‘œì¤€í™”ëœ JSON ì‘ë‹µ

---

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

**Backend:**
- Python 3.9+
- Flask 3.1.1
- ONNX Runtime 1.22.1
- Pillow 11.3.0

**Frontend:**
- HTML5 / CSS3
- Vanilla JavaScript

**Deployment:**
- Gunicorn (WSGI Server)
- CORS ì§€ì›

---

## ğŸ“¦ ì„¤ì¹˜ ë°©ë²•

### 1. ì €ì¥ì†Œ í´ë¡ 

```bash
git clone https://github.com/sinsangwoo/AIdiseaseclassifier.git
cd AIdiseaseclassifier
```

### 2. ê°€ìƒí™˜ê²½ ìƒì„± ë° í™œì„±í™”

```bash
python -m venv venv

# Windows
venv\Scripts\activate

# macOS/Linux
source venv/bin/activate
```

### 3. ì˜ì¡´ì„± ì„¤ì¹˜

```bash
pip install -r requirements.txt
```

### 4. í™˜ê²½ë³€ìˆ˜ ì„¤ì • (ì„ íƒì‚¬í•­)

`.env` íŒŒì¼ì„ ìƒì„±í•˜ê³  ë‹¤ìŒ ë‚´ìš©ì„ ì¶”ê°€:

```env
FLASK_ENV=development
MODEL_PATH=model.onnx
LABELS_PATH=labels.txt
SECRET_KEY=your-secret-key-here
```

---

## ğŸš€ ì‚¬ìš© ë°©ë²•

### ê°œë°œ ì„œë²„ ì‹¤í–‰

```bash
cd backend
python app.py
```

ì„œë²„ê°€ `http://localhost:5000`ì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤.

### í”„ë¡œë•ì…˜ ë°°í¬

```bash
cd backend
gunicorn --bind 0.0.0.0:5000 app:app
```

---

## ğŸ“– API ë¬¸ì„œ

### `GET /`
ì„œë²„ ìƒíƒœ í™•ì¸

**Response:**
```json
{
  "status": "running",
  "message": "AI ì§ˆë³‘ ì§„ë‹¨ ì„œë²„ê°€ ì‘ë™ ì¤‘ì…ë‹ˆë‹¤",
  "model_status": "ready"
}
```

---

### `GET /model/info`
ëª¨ë¸ ì •ë³´ ì¡°íšŒ

**Response:**
```json
{
  "status": "ready",
  "model_path": "model.onnx",
  "num_classes": 3,
  "classes": ["íë ´", "ì •ìƒ", "ê²°í•µ"],
  "input_name": "input",
  "output_name": "output"
}
```

---

### `POST /predict`
ì´ë¯¸ì§€ ì§ˆë³‘ ì˜ˆì¸¡

**Request:**
- Method: `POST`
- Content-Type: `multipart/form-data`
- Body: `file` (ì´ë¯¸ì§€ íŒŒì¼)

**Response (Success):**
```json
{
  "success": true,
  "predictions": [
    {
      "className": "íë ´",
      "probability": 0.85
    },
    {
      "className": "ì •ìƒ",
      "probability": 0.10
    },
    {
      "className": "ê²°í•µ",
      "probability": 0.05
    }
  ]
}
```

**Response (Error):**
```json
{
  "success": false,
  "error": {
    "type": "ValidationError",
    "message": "ì§€ì›í•˜ì§€ ì•ŠëŠ” íŒŒì¼ í˜•ì‹ì…ë‹ˆë‹¤. í—ˆìš©ëœ í˜•ì‹: jpg, jpeg, png"
  }
}
```

---

## ğŸ’» ê°œë°œ ê°€ì´ë“œ

### ì½”ë“œ êµ¬ì¡° ì›ì¹™

1. **ê´€ì‹¬ì‚¬ ë¶„ë¦¬ (Separation of Concerns)**
   - `models/`: ëª¨ë¸ ë¡œë”© ë° ì˜ˆì¸¡ ë¡œì§
   - `services/`: ì´ë¯¸ì§€ ì „ì²˜ë¦¬ ë“± ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
   - `utils/`: ê²€ì¦, ì‘ë‹µ í¬ë§· ë“± ê³µí†µ ê¸°ëŠ¥

2. **ì„¤ì • ê´€ë¦¬**
   - í™˜ê²½ë³„ ì„¤ì •ì„ `config.py`ì—ì„œ ì¤‘ì•™ ê´€ë¦¬
   - í™˜ê²½ë³€ìˆ˜ë¥¼ í†µí•œ ìœ ì—°í•œ ë°°í¬

3. **ì—ëŸ¬ ì²˜ë¦¬**
   - í‘œì¤€í™”ëœ ì—ëŸ¬ ì‘ë‹µ í¬ë§·
   - ì ì ˆí•œ HTTP ìƒíƒœ ì½”ë“œ ì‚¬ìš©

### ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€í•˜ê¸°

1. ê´€ë ¨ ëª¨ë“ˆì— ê¸°ëŠ¥ ì¶”ê°€
2. `app.py`ì— ë¼ìš°íŠ¸ ë“±ë¡
3. í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„± (í–¥í›„)
4. API ë¬¸ì„œ ì—…ë°ì´íŠ¸

---

## ğŸ“ ë¼ì´ì„¼ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” í•™ìŠµ ëª©ì ìœ¼ë¡œ ì œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.

---

## ğŸ‘¨â€ğŸ’» ê°œë°œì

**ì‹ ìƒìš°** (ì•„ì£¼ëŒ€í•™êµ ì†Œí”„íŠ¸ì›¨ì–´í•™ê³¼)

---

## ğŸ”„ ë³€ê²½ ì´ë ¥

### v2.0.0 (Phase 1 Refactoring)
- âœ¨ í”„ë¡œì íŠ¸ êµ¬ì¡° ê°œì„  (ê´€ì‹¬ì‚¬ ë¶„ë¦¬)
- ğŸ”§ ì„¤ì • ê´€ë¦¬ ì‹œìŠ¤í…œ ì¶”ê°€
- ğŸ›¡ï¸ ì…ë ¥ ê²€ì¦ ê°•í™”
- ğŸ“ API ì‘ë‹µ í‘œì¤€í™”
- ğŸ¨ ì½”ë“œ í’ˆì§ˆ ê°œì„ 

### v1.0.0 (Initial Release)
- ğŸ‰ ê¸°ë³¸ ì˜ˆì¸¡ ê¸°ëŠ¥ êµ¬í˜„
